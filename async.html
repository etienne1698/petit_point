<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>


    <script>
        /*
            Il y a deux syntaxe pour dÃ©finir et utiliser une fonction async
        */

        // SYNTAXE 1
        function maFonctionAsync1() {
            return new Promise((resolve) => {
                resolve('test1')
            }) 
        }
        function monUtilisationAsync1() {
            maFonctionAsync1().then(resultat => console.log(resultat))
        }

        // SYNTAXE 2
        async function maFonctionAsync2() {
            return 'test2'
        }
        async function monUtilisationAsync2() {
            const resultat = await maFonctionAsync2()
            console.log(resultat)
        }

        // EXEMPLE avec fetch
        async function fetchExempleSyntaxe1() {
            fetch('https://jsonplaceholder.typicode.com/todos/1').then(response => response.json().then(data => console.log(data)))
        }
        async function fetchExempleSyntaxe2() {
            const response = await fetch('https://jsonplaceholder.typicode.com/todos/1')
            const data = await response.json()
            console.log(data)
        }
        

        
        // TEST
        monUtilisationAsync1()
        monUtilisationAsync2()
        fetchExempleSyntaxe1()
        fetchExempleSyntaxe2()
    </script>
    
</body>
</html>